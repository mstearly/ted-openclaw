{
  "_config_version": 1,
  "_artifact": "connector_admission_policy",
  "_description": "MR0-004 connector admission policy for Monday and RightSignature.",
  "_last_updated": "2026-02-26",
  "default_mode": "read_only",
  "providers": {
    "monday": {
      "trust_tier": "tier2_partner_api",
      "allowed_operations_by_phase": {
        "MR0": ["config_only"],
        "MR1": ["read", "webhook_ingest"],
        "MR3": ["write_confirmed"]
      },
      "requires_queue_first_webhooks": true,
      "requires_idempotency_keys": true,
      "idempotency_strategy": {
        "key_source": "header:x-idempotency-key",
        "replay_window_hours": 72,
        "dedupe_scope": "connector_operation"
      },
      "callback_authenticity": {
        "verification_mode": "hmac_sha256",
        "signature_header": "x-ted-signature",
        "timestamp_header": "x-ted-timestamp",
        "max_clock_skew_seconds": 300,
        "secret_env_var": "TED_MONDAY_WEBHOOK_SECRET"
      },
      "retry_backoff_policy": {
        "strategy": "exponential_jitter",
        "max_retries": 5,
        "base_delay_ms": 500,
        "max_delay_ms": 30000,
        "retryable_status_codes": [408, 409, 425, 429, 500, 502, 503, 504]
      },
      "production_activation_gate": "P0-4_GATE"
    },
    "rightsignature": {
      "trust_tier": "tier2_partner_api",
      "allowed_operations_by_phase": {
        "MR0": ["config_only"],
        "MR2": ["read", "callback_ingest"],
        "MR3": ["send_confirmed"]
      },
      "requires_queue_first_webhooks": true,
      "requires_idempotency_keys": true,
      "idempotency_strategy": {
        "key_source": "header:x-idempotency-key",
        "replay_window_hours": 72,
        "dedupe_scope": "connector_operation"
      },
      "callback_authenticity": {
        "verification_mode": "hmac_sha256",
        "signature_header": "x-rightsignature-signature",
        "timestamp_header": "x-rightsignature-timestamp",
        "max_clock_skew_seconds": 300,
        "secret_env_var": "TED_RIGHTSIGNATURE_WEBHOOK_SECRET"
      },
      "retry_backoff_policy": {
        "strategy": "exponential_jitter",
        "max_retries": 5,
        "base_delay_ms": 500,
        "max_delay_ms": 30000,
        "retryable_status_codes": [408, 409, 425, 429, 500, 502, 503, 504]
      },
      "production_activation_gate": "P0-4_GATE"
    }
  }
}
